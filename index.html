<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>NCU Companion ‚Äî AI + AR + Gamified Fresher Buddy</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root{--blue:#2563eb;--green:#10b981;--amber:#f59e0b}
    html,body{height:100%;}
    body{font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial}
    .screen{display:none}
    .screen.active{display:block}
    .card{border-radius:1rem; box-shadow:0 10px 24px rgba(0,0,0,.08)}
    .fab{position:fixed; right:1.25rem; bottom:5.5rem; z-index:60}
    .badge{border-radius:9999px; padding:.25rem .6rem}
    .chip{border-radius:9999px; padding:.4rem .7rem; font-size:.85rem}
    .gradient-header{background:linear-gradient(135deg,#2563eb 0%, #10b981 60%, #f59e0b 100%);}
    .tab-active{color:#111827}
    .tab-inactive{color:#6b7280}
    .glass{backdrop-filter: blur(8px); background:rgba(255,255,255,.6)}
    .fade{animation:fade .25s ease}
    @keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
    .pill{border-radius:999px}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <!-- App Header -->
  <header class="gradient-header text-white py-5 px-5">
    <div class="max-w-3xl mx-auto flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-2xl bg-white/20 grid place-items-center text-xl">üéì</div>
        <div>
          <h1 class="text-xl font-bold font-[Poppins]">NCU Companion</h1>
          <p class="text-white/80 text-sm -mt-0.5">Feel at home, faster</p>
        </div>
      </div>
      <button id="langToggle" class="chip bg-white/20 hover:bg-white/30 text-white">EN / HI</button>
    </div>
  </header>

  <!-- Content Wrapper -->
  <main class="max-w-3xl mx-auto p-4 pb-28 fade">
    <!-- HOME -->
    <section id="home" class="screen active">
      <div class="card bg-white p-4 mb-4">
        <div class="flex items-center justify-between mb-2">
          <h2 class="text-lg font-semibold">Today for You</h2>
          <span class="chip bg-blue-100 text-blue-700">29 Aug</span>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="p-4 rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100">
            <p class="text-sm text-slate-600">Next class</p>
            <p class="text-slate-900 font-semibold mt-1">Block A-203 ‚Ä¢ 10:00 AM</p>
          </div>
          <div class="p-4 rounded-2xl bg-gradient-to-br from-green-50 to-green-100">
            <p class="text-sm text-slate-600">Events today</p>
            <p class="text-slate-900 font-semibold mt-1">CSE Meetup ‚Ä¢ Sports Orientation</p>
          </div>
        </div>
      </div>

      <div class="card bg-white p-4 mb-4">
        <h3 class="font-semibold mb-3">Campus Quest</h3>
        <div class="w-full bg-slate-100 rounded-full h-3 overflow-hidden mb-2">
          <div id="questBar" class="h-3 rounded-full bg-gradient-to-r from-blue-500 to-emerald-500" style="width: 37%"></div>
        </div>
        <p class="text-sm text-slate-600"><span id="questCount" class="font-semibold">3</span>/8 checkpoints</p>

        <div class="mt-3 flex gap-2 flex-wrap">
          <span class="badge bg-blue-100 text-blue-700">Explorer</span>
          <span class="badge bg-amber-100 text-amber-700">Path-Finder</span>
          <span class="badge bg-emerald-100 text-emerald-700 opacity-60">Campus Pro</span>
        </div>

        <button id="markCheckpoint" class="mt-3 px-4 py-2 pill bg-blue-600 text-white hover:bg-blue-700">Mark one checkpoint ‚úî</button>
      </div>

      <div class="grid md:grid-cols-3 grid-cols-2 gap-3">
        <button class="card bg-white p-4 hover:shadow-lg transition" onclick="showScreen('ar')">
          <div class="text-2xl">üì∑</div>
          <div class="mt-1 font-semibold">Open AR Lens</div>
          <p class="text-xs text-slate-500">Scan places ‚Ä¢ see info</p>
        </button>
        <button class="card bg-white p-4 hover:shadow-lg transition" onclick="showScreen('buddy')">
          <div class="text-2xl">ü§ñ</div>
          <div class="mt-1 font-semibold">Ask AI Buddy</div>
          <p class="text-xs text-slate-500">FAQs ‚Ä¢ guidance</p>
        </button>
        <button class="card bg-white p-4 hover:shadow-lg transition" onclick="showScreen('community')">
          <div class="text-2xl">üß≠</div>
          <div class="mt-1 font-semibold">Discover Clubs</div>
          <p class="text-xs text-slate-500">Events ‚Ä¢ mentors</p>
        </button>
        <button class="card bg-white p-4 hover:shadow-lg transition" onclick="showScreen('wellbeing')">
          <div class="text-2xl">üíõ</div>
          <div class="mt-1 font-semibold">Well‚Äëbeing</div>
          <p class="text-xs text-slate-500">Weekly check‚Äëin</p>
        </button>
      </div>
    </section>

    <!-- PROFILE -->
    <section id="profile" class="screen">
      <div class="card bg-white p-5">
        <div class="flex items-center gap-4">
          <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-amber-200 to-pink-200 grid place-items-center text-2xl">ü™™</div>
          <div>
            <h3 class="font-semibold text-lg">Shubhangi Tyagi</h3>
            <p class="text-sm text-slate-600">CSE ‚Äî AI/ML ‚Ä¢ Roll: 24CSU294</p>
            <p class="text-sm text-slate-600">Email: 24csu294@ncuindia.edu ‚Ä¢ Phone: 8076389638</p>
          </div>
        </div>

        <div class="mt-5 grid sm:grid-cols-3 gap-3">
          <div class="p-4 rounded-2xl bg-blue-50">
            <p class="text-xs text-slate-500">Streak</p>
            <p class="text-lg font-semibold">3 days üî•</p>
          </div>
          <div class="p-4 rounded-2xl bg-emerald-50">
            <p class="text-xs text-slate-500">Badges</p>
            <p class="text-lg font-semibold">2 unlocked ü•≥</p>
          </div>
          <div class="p-4 rounded-2xl bg-amber-50">
            <p class="text-xs text-slate-500">Language</p>
            <p class="text-lg font-semibold">English / ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</p>
          </div>
        </div>

        <div class="mt-5">
          <button class="px-4 py-2 pill bg-emerald-600 text-white hover:bg-emerald-700">Edit Profile</button>
        </div>
      </div>
    </section>

    <!-- AI BUDDY -->
    <section id="buddy" class="screen">
      <div class="card bg-white p-4 mb-4">
        <div class="flex items-center gap-2">
          <div class="text-2xl">ü§ñ</div>
          <h3 class="font-semibold text-lg">AI Fresher Buddy</h3>
        </div>
        <div class="mt-3 flex gap-2">
          <input id="faqQuery" class="flex-1 px-3 py-2 rounded-xl bg-slate-100 outline-none" placeholder="Search FAQs‚Ä¶ (ID card, library, transport)" />
          <button onclick="searchFAQ()" class="px-4 py-2 pill bg-blue-600 text-white hover:bg-blue-700">Search</button>
        </div>
      </div>

      <div id="faqResults" class="grid gap-3">
        <!-- dynamic -->
      </div>
    </section>

    <!-- AR LENS (MOCK) -->
    <section id="ar" class="screen">
      <div class="relative card overflow-hidden">
        <div class="h-72 w-full bg-gradient-to-br from-slate-200 to-slate-300"></div>
        <!-- "camera" overlay UI -->
        <div class="absolute inset-0 p-4">
          <div class="flex justify-between items-center text-white">
            <span class="chip glass text-slate-800">AR Lens ‚Äî Simulated</span>
            <button class="chip glass text-slate-800" onclick="cycleAR()">Switch Place</button>
          </div>

          <!-- target markers -->
          <div id="arMarkers" class="absolute inset-0">
            <!-- dynamic markers -->
          </div>

          <!-- Bottom info card -->
          <div id="arInfo" class="absolute bottom-3 left-3 right-3 glass rounded-2xl p-4">
            <!-- dynamic -->
          </div>
        </div>
      </div>
      <p class="text-sm text-slate-500 mt-2">Tip: This is a mock AR view for demo. In real app, markers would align with camera feed.</p>
    </section>

    <!-- COMMUNITY -->
    <section id="community" class="screen">
      <div class="card bg-white p-4 mb-4">
        <h3 class="font-semibold text-lg">Community Hub</h3>
        <p class="text-sm text-slate-600">Clubs ‚Ä¢ Events ‚Ä¢ Mentor Wall</p>
      </div>

      <div class="grid sm:grid-cols-2 gap-3">
        <div class="card bg-white p-4">
          <h4 class="font-semibold mb-2">Events & Notices</h4>
          <ul class="space-y-2 text-sm">
            <li class="p-3 rounded-xl bg-blue-50">CSE Club Meetup ‚Äî Today 4:30 PM, Block A-Auditorium</li>
            <li class="p-3 rounded-xl bg-emerald-50">AI/ML Intro Session ‚Äî Wed 2 PM, Lab A-203</li>
            <li class="p-3 rounded-xl bg-amber-50">Sports Orientation ‚Äî Thu 5 PM, Sports Complex</li>
          </ul>
        </div>

        <div class="card bg-white p-4">
          <h4 class="font-semibold mb-2">Clubs Directory</h4>
          <div class="flex gap-2 flex-wrap">
            <span class="chip bg-blue-100 text-blue-700">AI Club</span>
            <span class="chip bg-emerald-100 text-emerald-700">Literary Society</span>
            <span class="chip bg-amber-100 text-amber-700">Cultural Club</span>
            <span class="chip bg-pink-100 text-pink-700">Sports Club</span>
          </div>
        </div>
      </div>

      <div class="card bg-white p-4 mt-3">
        <h4 class="font-semibold mb-2">Ask a Senior (Q&A)</h4>
        <div class="flex gap-2">
          <input class="flex-1 px-3 py-2 rounded-xl bg-slate-100 outline-none" placeholder="Type your question‚Ä¶" />
          <button class="px-4 py-2 pill bg-emerald-600 text-white hover:bg-emerald-700">Post</button>
        </div>
      </div>
    </section>

    <!-- WELL-BEING -->
    <section id="wellbeing" class="screen">
      <div class="card bg-white p-4">
        <div class="flex items-center gap-2 mb-2">
          <div class="text-2xl">üíõ</div>
          <h3 class="font-semibold text-lg">Weekly Check‚Äëin</h3>
        </div>

        <div class="mt-2">
          <label class="text-sm text-slate-600">How are you feeling?</label>
          <input id="mood" type="range" min="1" max="5" value="3" class="w-full" oninput="updateMood(this.value)" />
          <div class="flex items-center justify-between text-2xl mt-1">
            <span>üò¢</span><span>üòï</span><span>üòê</span><span>üôÇ</span><span>üòÑ</span>
          </div>
          <p id="moodText" class="mt-2 text-sm text-slate-700">You're doing fine. Try the Library tour or a light event ‚òÄÔ∏è</p>
          <button class="mt-3 px-4 py-2 pill bg-blue-600 text-white hover:bg-blue-700" onclick="saveMood()">Save Check‚Äëin</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Floating Help Button -->
  <button id="helpFab" class="fab w-14 h-14 rounded-full bg-gradient-to-br from-blue-600 to-emerald-500 grid place-items-center text-white shadow-xl hover:scale-105 transition" aria-label="Help">
    ?
  </button>

  <!-- Help Modal -->
  <div id="helpModal" class="fixed inset-0 bg-black/40 hidden z-50">
    <div class="max-w-md mx-auto mt-24 bg-white rounded-2xl p-5 card">
      <div class="flex items-center justify-between">
        <h3 class="font-semibold text-lg">Help & Support</h3>
        <button onclick="toggleHelp()" class="text-slate-500 hover:text-slate-800">‚úñ</button>
      </div>
      <div class="mt-3 grid gap-2 text-sm">
        <div class="p-3 rounded-xl bg-rose-50"><span class="font-semibold">Emergency:</span> +91-XXXXXXXXXX</div>
        <div class="p-3 rounded-xl bg-blue-50"><span class="font-semibold">Registrar:</span> registrar@ncu.edu</div>
        <div class="p-3 rounded-xl bg-emerald-50"><span class="font-semibold">Counsellor:</span> wellness@ncu.edu</div>
        <div class="p-3 rounded-xl bg-amber-50"><span class="font-semibold">FAQ:</span> Try the AI Buddy for ID card, library, transport.</div>
      </div>
    </div>
  </div>

  <!-- Bottom Nav -->
  <nav class="fixed bottom-0 inset-x-0 bg-white/90 backdrop-blur border-t border-slate-200 z-40">
    <div class="max-w-3xl mx-auto grid grid-cols-5 text-center py-2">
      <button class="nav tab-active" onclick="showScreen('home')">
        <div class="text-xl">üè†</div>
        <div class="text-xs">Home</div>
      </button>
      <button class="nav tab-inactive" onclick="showScreen('profile')">
        <div class="text-xl">üë§</div>
        <div class="text-xs">Profile</div>
      </button>
      <button class="nav tab-inactive" onclick="showScreen('buddy')">
        <div class="text-xl">ü§ñ</div>
        <div class="text-xs">Buddy</div>
      </button>
      <button class="nav tab-inactive" onclick="showScreen('ar')">
        <div class="text-xl">üì∑</div>
        <div class="text-xs">AR</div>
      </button>
      <button class="nav tab-inactive" onclick="showScreen('community')">
        <div class="text-xl">üß≠</div>
        <div class="text-xs">Community</div>
      </button>
    </div>
  </nav>

  <script>
    // Simple SPA switching
    const screens = ["home","profile","buddy","ar","community","wellbeing"];
    function showScreen(id){
      for(const s of screens){
        document.getElementById(s)?.classList.remove("active");
      }
      const el = document.getElementById(id);
      if(el){ el.classList.add("active"); window.scrollTo({top:0, behavior:"smooth"}); }

      // nav highlight
      const buttons = document.querySelectorAll("nav .nav");
      buttons.forEach(b=>b.classList.remove("tab-active"));
      const map = {home:0, profile:1, buddy:2, ar:3, community:4, wellbeing:0};
      const idx = map[id] ?? 0;
      buttons[idx]?.classList.add("tab-active");
    }

    // Help Modal
    const helpBtn = document.getElementById('helpFab');
    const helpModal = document.getElementById('helpModal');
    helpBtn.addEventListener('click', toggleHelp);
    function toggleHelp(){
      helpModal.classList.toggle('hidden');
    }

    // Quest demo + confetti
    const questCountEl = document.getElementById('questCount');
    const questBarEl = document.getElementById('questBar');
    document.getElementById('markCheckpoint').addEventListener('click', ()=>{
      let v = parseInt(questCountEl.textContent, 10);
      if(v < 8){
        v += 1; questCountEl.textContent = v;
        questBarEl.style.width = Math.round((v/8)*100) + '%';
        confetti();
        if(v===8){ alert('üèÜ NCU Explorer ‚Äî You completed all checkpoints!'); }
      }
    });

    function confetti(){
      // very tiny confetti dots
      for(let i=0;i<16;i++){
        const dot=document.createElement('div');
        dot.style.position='fixed';
        dot.style.left=(Math.random()*100)+'vw';
        dot.style.top='-10px';
        dot.style.width='8px'; dot.style.height='8px';
        dot.style.borderRadius='999px';
        dot.style.background=['#2563eb','#10b981','#f59e0b','#ec4899'][i%4];
        dot.style.zIndex=70;
        document.body.appendChild(dot);
        const end = (Math.random()*60+40)+'vh';
        dot.animate([{transform:'translateY(0)'},{transform:'translateY('+end+')'}], {duration:800+Math.random()*600, easing:'cubic-bezier(.2,.6,.2,1)'}).onfinish=()=>dot.remove();
      }
    }

    // AI Buddy ‚Äî FAQ search
    const FAQS = [
      {q:'ID card process', a:'Department office form + photo ‚Üí approval ‚Üí print. Temp slip valid 48 hrs; lost card: report + ‚ÇπX reissue.'},
      {q:'Library timings', a:'Mon‚ÄìFri 9‚Äì7; Sat 10‚Äì5 (example ‚Äî replace with actual). UG: 3 books/14 days.'},
      {q:'Transport', a:'Bus routes & passes at Admin/Transport desk. Show ID at pickup.'},
      {q:'Exam cell', a:'Forms, revaluation, schedules at Exam Cell; check portal for dates.'},
      {q:'Clubs', a:'Browse club directory in Community Hub; join via provided link.'},
      {q:'Medical help', a:'Health Centre near main gate; emergency contact on Help page.'},
      {q:'Hostel', a:'Hostel office handles allotment & rules; visit for assistance.'},
    ];
    const faqResults = document.getElementById('faqResults');
    function renderFAQs(list){
      faqResults.innerHTML = '';
      list.forEach(({q,a})=>{
        const item = document.createElement('details');
        item.className = 'card p-4 bg-white';
        const sum = document.createElement('summary');
        sum.className = 'font-semibold cursor-pointer';
        sum.textContent = 'Q: ' + q;
        const p = document.createElement('p');
        p.className = 'mt-2 text-sm text-slate-700';
        p.textContent = 'A: ' + a;
        item.appendChild(sum);
        item.appendChild(p);
        faqResults.appendChild(item);
      });
    }
    renderFAQs(FAQS);
    function searchFAQ(){
      const q = document.getElementById('faqQuery').value.trim().toLowerCase();
      if(!q){ renderFAQs(FAQS); return; }
      const hits = FAQS.filter(f=>f.q.toLowerCase().includes(q) || f.a.toLowerCase().includes(q));
      renderFAQs(hits.length?hits:[{q:'No results', a:'Try another keyword (e.g., ID card, library, transport).'}]);
    }

    // AR mock
    const PLACES = [
      {name:'Library', what:'Borrow books, study spaces, orientation tour.', time:'Mon‚ÄìFri 9‚Äì7; Sat 10‚Äì5', tips:'Carry ID; silent zone on 2nd floor.'},
      {name:'Tinkering Lab', what:'Projects, 3D printing, electronics benches.', time:'10‚Äì6', tips:'Safety first: follow lab rules.'},
      {name:'Canteen', what:'Meals, snacks; student hangout.', time:'8‚Äì7', tips:'Peak 1‚Äì2 PM; use QR to pay.'},
      {name:'Sports Complex', what:'Badminton, basketball, gym.', time:'6‚Äì9 & 4‚Äì9', tips:'Non‚Äëmarking shoes for indoor courts.'},
    ];
    let arIndex = 0;
    function cycleAR(){ arIndex=(arIndex+1)%PLACES.length; drawAR(); }
    function drawAR(){
      const m = document.getElementById('arMarkers'); m.innerHTML='';
      const p = PLACES[arIndex];
      // random marker positions (mock)
      for(let i=0;i<3;i++){
        const tag=document.createElement('div');
        tag.className='absolute px-3 py-1 rounded-full bg-white/80 text-slate-900 text-sm shadow';
        tag.style.left=(20+Math.random()*60)+'%';
        tag.style.top=(20+Math.random()*50)+'%';
        tag.textContent = i===0 ? p.name : ['Entrance','Help Desk','Exit'][i-1];
        m.appendChild(tag);
      }
      const info = document.getElementById('arInfo');
      info.innerHTML = `<div class="flex items-center justify-between">
          <div>
            <p class="font-semibold text-slate-900">${p.name}</p>
            <p class="text-sm text-slate-700">What: ${p.what}</p>
            <p class="text-sm text-slate-700">Timings: ${p.time}</p>
            <p class="text-sm text-slate-700">Tips: ${p.tips}</p>
          </div>
          <button class="px-3 py-2 pill bg-blue-600 text-white">Navigate</button>
        </div>`;
    }
    drawAR();

    // Well-being
    function updateMood(v){
      const msg = document.getElementById('moodText');
      if(v>=4) msg.textContent = 'Great! Explore a club today or continue your Quest üéØ';
      else if(v==3) msg.textContent = 'You\'re doing fine. Try the Library tour or a light event ‚òÄÔ∏è';
      else msg.textContent = 'It‚Äôs okay to feel low. Consider talking to a mentor or counsellor üíõ';
    }
    function saveMood(){ alert('Saved! Your weekly check‚Äëin is recorded.'); }

    // Language toggle (EN/HI labels demo only)
    const langBtn = document.getElementById('langToggle');
    let hi=false;
    langBtn.addEventListener('click', ()=>{
      hi=!hi;
      document.querySelector('header h1').textContent = hi? 'NCU ‡§∏‡§æ‡§•‡•Ä' : 'NCU Companion';
      document.querySelector('header p').textContent = hi? '‡§ò‡§∞ ‡§ú‡•à‡§∏‡§æ ‡§è‡§π‡§∏‡§æ‡§∏, ‡§ú‡§≤‡•ç‡§¶‡•Ä' : 'Feel at home, faster';
      langBtn.textContent = hi? 'HI / EN' : 'EN / HI';
    });
  </script>
</body>
</html>
